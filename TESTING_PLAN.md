# ‚úÖ Testing Plan: Content Queue & Prompt Pipeline

> **‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** 2026-01-19
> **‡∏ú‡∏π‡πâ‡∏ó‡∏î‡∏™‡∏≠‡∏ö:** AI Assistant (Cascade)

---

## üéØ ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå

‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö Content Queue & Prompt Pipeline ‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô Phase 1-5 ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Prompt, ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏ß, ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏° Episode ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥, UI, ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤

---

## üß™ Test Cases

### Part 1: Backend - Core Pipeline & Queue

| Test Case ID | Feature | ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö | ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ |
|:---|:---|:---|:---|:---|
| **TC-BE-01** | `testPromptPipeline` | 1. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Project ‡∏ó‡∏µ‡πà‡∏°‡∏µ Mode, Expander, ‡πÅ‡∏•‡∏∞ Episodes (status: `pending`) <br> 2. ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ `testPromptPipeline` ‡∏ú‡πà‡∏≤‡∏ô Frontend <br> 3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Firestore | - ‡∏™‡∏£‡πâ‡∏≤‡∏á Document ‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô `testLogs/` <br> - `testLogs/` ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• `prompts`, `titles`, `tags`, `episodeId`, `episodeTitle` <br> - `testLogs/` ‡∏°‡∏µ field `expiresAt` ‡πÄ‡∏õ‡πá‡∏ô Timestamp ‡πÉ‡∏ô‡∏≠‡∏µ‡∏Å 7 ‡∏ß‡∏±‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ <br> - Episode ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏°‡∏µ status ‡πÄ‡∏õ‡πá‡∏ô `pending` | [ ] Pass<br>[ ] Fail |
| **TC-BE-02** | `scheduleJobs` | 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Schedule ‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏≠‡∏µ‡∏Å 5 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ <br> 2. ‡∏£‡∏≠‡πÉ‡∏´‡πâ Schedule ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô <br> 3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Firestore | - ‡∏™‡∏£‡πâ‡∏≤‡∏á Document ‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô `readyPrompts/` <br> - Episode ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô status ‡πÄ‡∏õ‡πá‡∏ô `used` <br> - Document ‡∏Ç‡∏≠‡∏á Episode ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô `episodeHistory/` <br> - `episodeHistory/` ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• `usedAt`, `jobId`, `generatedPrompts`, `titles`, `tags` | [ ] Pass<br>[ ] Fail |
| **TC-BE-03** | Episode Selection: `sequential` | 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ `episodeSelection` ‡πÄ‡∏õ‡πá‡∏ô `sequential` <br> 2. Trigger `scheduleJobs` 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô | - ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 1: Episode ‡∏ó‡∏µ‡πà‡∏°‡∏µ `order` ‡∏ô‡πâ‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ <br> - ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 2: Episode ‡∏ó‡∏µ‡πà‡∏°‡∏µ `order` ‡∏ô‡πâ‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ | [ ] Pass<br>[ ] Fail |
| **TC-BE-04** | Episode Selection: `random` | 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ `episodeSelection` ‡πÄ‡∏õ‡πá‡∏ô `random` <br> 2. Trigger `scheduleJobs` 2-3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á <br> 3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö `episodeHistory/` | - Episode ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°‡∏à‡∏≤‡∏Å `pending` episodes ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏° `order` | [ ] Pass<br>[ ] Fail |

---

### Part 2: Backend - Auto-Refill System

| Test Case ID | Feature | ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö | ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ |
|:---|:---|:---|:---|:---|
| **TC-BE-05** | Auto-Refill Trigger | 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Project: `autoRefillEnabled: true`, `autoRefillThreshold: 5`, `autoRefillCount: 10` <br> 2. ‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô `pending` episodes ‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ 5 <br> 3. Trigger `scheduleJobs` | - `autoGenerateEpisodesInternal()` ‡∏ñ‡∏π‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (‡∏î‡∏π‡∏à‡∏≤‡∏Å Log) <br> - ‡∏°‡∏µ Episode ‡πÉ‡∏´‡∏°‡πà 10 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô `episodes/` collection <br> - Episode ‡πÉ‡∏´‡∏°‡πà‡∏°‡∏µ status ‡πÄ‡∏õ‡πá‡∏ô `pending` ‡πÅ‡∏•‡∏∞ `createdBy: 'auto-refill'` <br> - ‡∏°‡∏µ Log `ü§ñ Auto-Refill: Generated...` ‡πÉ‡∏ô Project logs | [ ] Pass<br>[ ] Fail |
| **TC-BE-06** | Manual Refill | 1. ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ `autoGenerateEpisodes` ‡∏ú‡πà‡∏≤‡∏ô Callable Function (‡∏´‡∏£‡∏∑‡∏≠ UI ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) <br> 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Firestore | - ‡∏°‡∏µ Episode ‡πÉ‡∏´‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏ <br> - AI ‡πÉ‡∏ä‡πâ `episodeHistory/` ‡πÄ‡∏õ‡πá‡∏ô context ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á (‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á title/desc) | [ ] Pass<br>[ ] Fail |

---

### Part 3: Frontend - UI & Interactivity

| Test Case ID | Feature | ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö | ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ |
|:---|:---|:---|:---|:---|
| **TC-FE-01** | Content Queue UI | 1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ Projects > Content Queue <br> 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Episode ‡∏ó‡∏µ‡πà‡∏°‡∏µ status `pending`, `processing`, `used` | - ‡πÅ‡∏™‡∏î‡∏á Status Badge ‡πÅ‡∏•‡∏∞‡∏™‡∏µ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ <br> - `used` episodes ‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô Tab 'Queue' <br> - Header counter (‡∏£‡∏≠, ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥, ‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß) ‡πÅ‡∏™‡∏î‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á | [ ] Pass<br>[ ] Fail |
| **TC-FE-02** | History Tab | 1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ Projects > Content Queue > History Tab | - ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ Episode ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏≤‡∏Å `episodeHistory/` <br> - ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (`usedAt`) ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á | [ ] Pass<br>[ ] Fail |
| **TC-FE-03** | Episode Settings | 1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ Projects > Content Queue <br> 2. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô Episode Settings panel (Selection Mode, Auto-Refill, Threshold, Count) | - ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á Firestore ‡πÉ‡∏ô Document ‡∏Ç‡∏≠‡∏á Project ‡∏ô‡∏±‡πâ‡∏ô‡πÜ ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ <br> - UI ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÄ‡∏™‡∏°‡∏≠ | [ ] Pass<br>[ ] Fail |

---

### Part 4: Backend - Cleanup Functions

| Test Case ID | Feature | ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö | ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ |
|:---|:---|:---|:---|:---|
| **TC-BE-07** | `cleanupExpiredTestLogs` | 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á `testLogs/` document ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ `expiresAt` ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï <br> 2. Trigger `cleanupExpiredTestLogs` function (‡∏ú‡πà‡∏≤‡∏ô Google Cloud Console Scheduler) | - Document ‡∏ó‡∏µ‡πà‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å `testLogs/` <br> - Log ‡πÉ‡∏ô Cloud Functions ‡πÅ‡∏™‡∏î‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏ö‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á | [ ] Pass<br>[ ] Fail |
| **TC-BE-08** | `cleanupOldEpisodeHistory` | 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á `episodeHistory/` document ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ `usedAt` ‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πà‡∏≤‡∏Å‡∏ß‡πà‡∏≤ 30 ‡∏ß‡∏±‡∏ô <br> 2. Trigger `cleanupOldEpisodeHistory` function | - Document ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πà‡∏≤‡∏Å‡∏ß‡πà‡∏≤ 30 ‡∏ß‡∏±‡∏ô‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å `episodeHistory/` <br> - Log ‡πÉ‡∏ô Cloud Functions ‡πÅ‡∏™‡∏î‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏ö‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á | [ ] Pass<br>[ ] Fail |
